<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Vote Now</title>
	<style>
.topAlignPanelColumns td {
	vertical-align: top;
}

.pf-dock-container-top {
	background-image: none;
	background-color: white;
}

.ui-dock-item-top {
	color: black;
}

.ui-dock-container-top {
	color: black;
}

.ui-selectonemenu {
	width: 100px;
}

.ui-widget,.ui-widget .ui-widget {
	font-size: 90% !important;
}
</style>

</h:head>
<h:body>
	<!-- menu starts -->
	<ui:include src="menu.xhtml" />
	<!-- menu ends -->
	<div style="width: 800px; margin: 0 auto;">
		<div style="width: 800px; margin: 0;">

			<!-- header starts -->
			<h5>Edit your Profile</h5>
			<!-- http://www.ajaxload.info/ -->
			<p:blockUI block="userProfileForm" trigger=":userProfileForm:saveProfile">
			Saving Profile<br />
				<p:graphicImage value="/images/ajax-loader.gif" />
			</p:blockUI>
			<p:blockUI block="userProfileForm" trigger=":userProfileForm:state,:userProfileForm:livingState">
			Getting District List<br />
				<p:graphicImage value="/images/ajax-loader.gif" />
			</p:blockUI>
			<p:blockUI block="userProfileForm" trigger=":userProfileForm:district,:userProfileForm:livingDistrict">
			Getting Assembly Constituency List<br />
				<p:graphicImage value="/images/ajax-loader.gif" />
			</p:blockUI>

			<h:form id="userProfileForm">
				<p:messages id="messages" autoUpdate="true" closable="true" />
				<h:panelGrid columns="2" cellpadding="5">
					<!-- 
					<h:outputLabel value="" />
					<p:graphicImage value="#{userProfileBean.loggedInUser.profilePic}" height="200" />
					 -->
					<h:outputLabel for="name" value="Name*" />
					<p:inputText id="name" value="#{userProfileBean.name}" label="Name">
					</p:inputText>
					<h:outputText value="Gender : " />
					<p:selectOneMenu value="#{userProfileBean.gender}">
						<f:selectItem itemLabel="Not Specified" itemValue="NotSpecified" />
						<f:selectItem itemLabel="Male" itemValue="Male" />
						<f:selectItem itemLabel="Female" itemValue="Female" />
					</p:selectOneMenu>
					<h:outputLabel for="mobile" value="Mobile" />
					<h:panelGrid columns="2">
						<p:selectOneMenu value="#{userProfileBean.countryCode}">
							<f:selectItem itemLabel="India - 91" itemValue="91" />
							<f:selectItems value="#{userProfileBean.countries}" var="oneCountry" itemLabel="#{oneCountry.name} - #{oneCountry.isdCode}" itemValue="#{oneCountry.isdCode}" />
						</p:selectOneMenu>
						<p:inputText id="mobile" value="#{userProfileBean.mobileNumber}" label="Mobile" mask="9999999999" maxlength="10">
						</p:inputText>
					</h:panelGrid>


					<h:outputText value="Date of Birth*" />
					<p:inputMask id="dob" value="#{userProfileBean.dateOfBirth}" mask="99/99/9999" />
				</h:panelGrid>
				<p:watermark for="dob" value="DD/MM/YYYY" />
				<p:watermark for="mobile" value="XXXXXXXXXX" />

				<p:panelGrid columns="2" cellpadding="5">
					<f:facet name="header">  
        		Select the place where you live  
    		</f:facet>

					<h:outputLabel for="livingState" value="State*" />
					<p:selectOneMenu id="livingState" value="#{userProfileBean.selectedLivingStateId}" effect="fold" editable="false">
						<f:selectItem itemLabel="Select State" itemValue="0" />
						<f:selectItems value="#{userProfileBean.livingStateList}" var="oneState" itemLabel="#{oneState.name}" itemValue="#{oneState.id}" />

						<p:ajax event="change" update=":userProfileForm:livingDistrict,:userProfileForm:livingParliamentConstituency" listener="#{userProfileBean.handleLivingStateChange}" />
					</p:selectOneMenu>
					<h:outputLabel for="livingDistrict" value="District*" />
					<p:selectOneMenu id="livingDistrict" disabled="#{!userProfileBean.enableLivingDistrictCombo}" value="#{userProfileBean.selectedLivingDistrictId}" effect="fold"
						editable="false">
						<f:selectItem itemLabel="Select District" itemValue="0" />
						<f:selectItems value="#{userProfileBean.livingDistrictList}" var="oneDistrict" itemLabel="#{oneDistrict.name}" itemValue="#{oneDistrict.id}" />

						<p:ajax event="change" update=":userProfileForm:livingAssemblyConstituency" listener="#{userProfileBean.handleLivingDistrictChange}" />
					</p:selectOneMenu>
					<h:outputLabel for="livingParliamentConstituency" value="Parliament Constituency*" />

					<p:selectOneMenu id="livingParliamentConstituency" disabled="#{userProfileBean.sameAsLiving or !userProfileBean.enableLivingParliamentConstituencyCombo}"
						value="#{userProfileBean.selectedLivingParliamentConstituencyId}" effect="fold" editable="false">
						<f:selectItem itemLabel="Select Parliament Constituency" itemValue="0" />
						<f:selectItems value="#{userProfileBean.livingParliamentConstituencyList}" var="oneParliamentConstituency" itemLabel="#{oneParliamentConstituency.name}"
							itemValue="#{oneParliamentConstituency.id}" />

						<p:ajax update="livingAssemblyConstituency" />
					</p:selectOneMenu>

					<h:outputLabel for="livingAssemblyConstituency" value="Assembly Constituency*" />
					<p:selectOneMenu id="livingAssemblyConstituency" disabled="#{!userProfileBean.enableLivingAssemblyConstituencyCombo}"
						value="#{userProfileBean.selectedLivingAssemblyConstituencyId}" effect="fold" editable="false">
						<f:selectItem itemLabel="Select Assembly Constituency" itemValue="0" />
						<f:selectItems value="#{userProfileBean.livingAssemblyConstituencyList}" var="oneAssemblyConstituency" itemLabel="#{oneAssemblyConstituency.name}"
							itemValue="#{oneAssemblyConstituency.id}" />

					</p:selectOneMenu>

					<p:outputPanel>
						<h:outputLabel for="nri" value="I am NRI" />
						<p:selectBooleanCheckbox id="nri" value="#{userProfileBean.nri}">
							<p:ajax update=":userProfileForm:nriCountry" listener="#{userProfileBean.onClickNri}" />
						</p:selectBooleanCheckbox>
					</p:outputPanel>

					<p:selectOneMenu id="nriCountry" value="#{userProfileBean.nriCountryId}" disabled="#{!userProfileBean.nri}">
						<f:selectItem itemLabel="Select Country" itemValue="0" />
						<f:selectItems value="#{userProfileBean.countries}" var="oneCountry" itemLabel="#{oneCountry.name}" itemValue="#{oneCountry.id}" />
					</p:selectOneMenu>

				</p:panelGrid>

				<p:panelGrid columns="2" cellpadding="5" id="votingLocation">
					<f:facet name="header">
					
        		Select the place where you registered as voter
        		<br></br>
						<p:selectBooleanCheckbox value="#{userProfileBean.sameAsLiving}">
							<!-- <p:ajax update="msg" listener="#{userProfileBean.onClickSameAsLiving}" /> -->
							<p:ajax update=":userProfileForm:votingLocation" listener="#{userProfileBean.onClickSameAsLiving}" />
						</p:selectBooleanCheckbox> Same as Living Location  
    		</f:facet>

					<h:outputLabel for="state" value="State*" />
					<p:selectOneMenu id="state" disabled="#{userProfileBean.sameAsLiving}" value="#{userProfileBean.selectedStateId}" effect="fold" editable="false">
						<f:selectItem itemLabel="Select State" itemValue="0" />
						<f:selectItems value="#{userProfileBean.stateList}" var="oneState" itemLabel="#{oneState.name}" itemValue="#{oneState.id}" />
						<p:ajax event="change" update=":userProfileForm:district,:userProfileForm:parliamentConstituency" listener="#{userProfileBean.handleStateChange}" />
					</p:selectOneMenu>
					<h:outputLabel for="district" value="District*" />
					<p:selectOneMenu id="district" disabled="#{userProfileBean.sameAsLiving or !userProfileBean.enableDistrictCombo}" value="#{userProfileBean.selectedDistrictId}" effect="fold"
						editable="false">
						<f:selectItem itemLabel="Select District" itemValue="0" />
						<f:selectItems value="#{userProfileBean.districtList}" var="oneDistrict" itemLabel="#{oneDistrict.name}" itemValue="#{oneDistrict.id}" />

						<p:ajax event="change" update=":userProfileForm:assemblyConstituency" listener="#{userProfileBean.handleDistrictChange}" />
					</p:selectOneMenu>
					<h:outputLabel for="parliamentConstituency" value="Parliament Constituency*" />
					<p:selectOneMenu id="parliamentConstituency" disabled="#{userProfileBean.sameAsLiving or !userProfileBean.enableParliamentConstituencyCombo}"
						value="#{userProfileBean.selectedParliamentConstituencyId}" effect="fold" editable="false">
						<f:selectItem itemLabel="Select Parliament Constituency" itemValue="0" />
						<f:selectItems value="#{userProfileBean.parliamentConstituencyList}" var="oneParliamentConstituency" itemLabel="#{oneParliamentConstituency.name}"
							itemValue="#{oneParliamentConstituency.id}" />
					</p:selectOneMenu>
					<h:outputLabel for="assemblyConstituency" value="Assembly Constituency*" />
					<p:selectOneMenu id="assemblyConstituency" disabled="#{userProfileBean.sameAsLiving or !userProfileBean.enableAssemblyConstituencyCombo}"
						value="#{userProfileBean.selectedAssemblyConstituencyId}" effect="fold" editable="false">
						<f:selectItem itemLabel="Select Assembly Constituency" itemValue="0" />
						<f:selectItems value="#{userProfileBean.assemblyConstituencyList}" var="oneAssemblyConstituency" itemLabel="#{oneAssemblyConstituency.name}"
							itemValue="#{oneAssemblyConstituency.id}" />

					</p:selectOneMenu>


				</p:panelGrid>
				<p:commandButton id="saveProfile" value="Save Profile" actionListener="#{userProfileBean.saveProfile}" />
				<p:tooltip for="saveProfile">Save profile</p:tooltip>


			</h:form>
			<!-- header ends -->


			<!-- footer starts -->
			<div class="footerWrapper">
				<div class="container_24">
					<div class="grid_24 panel footer">
						Copyright &copy; 2013 <a href="#">www.vote4delhi.com</a>. All Rights Reserved.
					</div>
				</div>
				<div class="clear"></div>
			</div>
			<!-- footer ends -->
		</div>
	</div>

</h:body>
</html>
